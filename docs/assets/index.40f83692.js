(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerpolicy&&(o.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?o.credentials="include":u.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(u){if(u.ep)return;u.ep=!0;const o=n(u);fetch(u.href,o)}})();function v(){}function he(e){return e()}function ue(){return Object.create(null)}function C(e){e.forEach(he)}function F(e){return typeof e=="function"}function Q(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ye(e){return Object.keys(e).length===0}function T(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function I(e){e.parentNode&&e.parentNode.removeChild(e)}function $(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function D(){return E(" ")}function Ie(){return E("")}function G(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function Y(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function we(e){return Array.from(e.childNodes)}function be(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}let j;function O(e){j=e}function ke(){if(!j)throw new Error("Function called outside component initialization");return j}function ve(e){ke().$$.on_mount.push(e)}const S=[],le=[],K=[],oe=[],me=Promise.resolve();let ee=!1;function pe(){ee||(ee=!0,me.then(_e))}function Ne(){return pe(),me}function te(e){K.push(e)}const Z=new Set;let U=0;function _e(){const e=j;do{for(;U<S.length;){const t=S[U];U++,O(t),Ae(t.$$)}for(O(null),S.length=0,U=0;le.length;)le.pop()();for(let t=0;t<K.length;t+=1){const n=K[t];Z.has(n)||(Z.add(n),n())}K.length=0}while(S.length);for(;oe.length;)oe.pop()();ee=!1,Z.clear(),O(e)}function Ae(e){if(e.fragment!==null){e.update(),C(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}const R=new Set;let A;function Ee(){A={r:0,c:[],p:A}}function Me(){A.r||C(A.c),A=A.p}function P(e,t){e&&e.i&&(R.delete(e),e.i(t))}function B(e,t,n,i){if(e&&e.o){if(R.has(e))return;R.add(e),A.c.push(()=>{R.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function Pe(e,t){e.d(1),t.delete(e.key)}function $e(e,t){B(e,1,1,()=>{t.delete(e.key)})}function re(e,t,n,i,u,o,l,c,f,a,p,d){let h=e.length,g=o.length,y=h;const M={};for(;y--;)M[e[y].key]=y;const r=[],s=new Map,m=new Map;for(y=g;y--;){const _=d(u,o,y),b=n(_);let k=l.get(b);k?i&&k.p(_,t):(k=a(b,_),k.c()),s.set(b,r[y]=k),b in M&&m.set(b,Math.abs(y-M[b]))}const L=new Set,ie=new Set;function X(_){P(_,1),_.m(c,p),l.set(_.key,_),p=_.first,g--}for(;h&&g;){const _=r[g-1],b=e[h-1],k=_.key,q=b.key;_===b?(p=_.first,h--,g--):s.has(q)?!l.has(k)||L.has(k)?X(_):ie.has(q)?h--:m.get(k)>m.get(q)?(ie.add(k),X(_)):(L.add(q),h--):(f(b,l),h--)}for(;h--;){const _=e[h];s.has(_.key)||f(_,l)}for(;g;)X(r[g-1]);return r}function ne(e){e&&e.c()}function H(e,t,n,i){const{fragment:u,after_update:o}=e.$$;u&&u.m(t,n),i||te(()=>{const l=e.$$.on_mount.map(he).filter(F);e.$$.on_destroy?e.$$.on_destroy.push(...l):C(l),e.$$.on_mount=[]}),o.forEach(te)}function J(e,t){const n=e.$$;n.fragment!==null&&(C(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ce(e,t){e.$$.dirty[0]===-1&&(S.push(e),pe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function V(e,t,n,i,u,o,l,c=[-1]){const f=j;O(e);const a=e.$$={fragment:null,ctx:[],props:o,update:v,not_equal:u,bound:ue(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:ue(),dirty:c,skip_bound:!1,root:t.target||f.$$.root};l&&l(a.root);let p=!1;if(a.ctx=n?n(e,t.props||{},(d,h,...g)=>{const y=g.length?g[0]:h;return a.ctx&&u(a.ctx[d],a.ctx[d]=y)&&(!a.skip_bound&&a.bound[d]&&a.bound[d](y),p&&Ce(e,d)),h}):[],a.update(),p=!0,C(a.before_update),a.fragment=i?i(a.ctx):!1,t.target){if(t.hydrate){const d=we(t.target);a.fragment&&a.fragment.l(d),d.forEach(I)}else a.fragment&&a.fragment.c();t.intro&&P(e.$$.fragment),H(e,t.target,t.anchor,t.customElement),_e()}O(f)}class W{$destroy(){J(this,1),this.$destroy=v}$on(t,n){if(!F(n))return v;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const u=i.indexOf(n);u!==-1&&i.splice(u,1)}}$set(t){this.$$set&&!ye(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function N(){return((1+Math.random())*65536|0).toString(16).substring(1)}function ge(){return N()+N()+"-"+N()+"-"+N()+"-"+N()+"-"+N()+N()+N()}function x(){return{id:ge(),value:""}}function se(e,t){return[...e.slice(0,t),...e.slice(t+1)]}function Le(e){return Math.floor(Math.random()*e)}async function z(){if(await Ne,document.activeElement.tagName!=="BUTTON"){let e=document.getElementsByTagName("input");e[e.length-1].focus()}}function Se(){return["hummus","garlic yoghurt","sweet chilli","tomato sauce","bbq sauce","mint sauce","aioli","mayo"].map(e=>({id:ge(),value:e}))}function Oe(e){let t,n,i,u,o;return{c(){t=$("button"),n=E("add"),i=E(`
a new option`),t.disabled=e[0]},m(l,c){w(l,t,c),T(t,n),w(l,i,c),u||(o=G(t,"click",function(){F(e[1])&&e[1].apply(this,arguments)}),u=!0)},p(l,[c]){e=l,c&1&&(t.disabled=e[0])},i:v,o:v,d(l){l&&I(t),l&&I(i),u=!1,o()}}}function Be(e,t,n){let{disabled:i}=t,{handleAddNewInput:u}=t;return e.$$set=o=>{"disabled"in o&&n(0,i=o.disabled),"handleAddNewInput"in o&&n(1,u=o.handleAddNewInput)},[i,u]}class Te extends W{constructor(t){super(),V(this,t,Be,Oe,Q,{disabled:0,handleAddNewInput:1})}}function je(e){let t,n,i,u;return{c(){t=$("div"),n=$("input"),Y(n,"id",e[0]),n.value=e[1],Y(n,"autocomplete","off")},m(o,l){w(o,t,l),T(t,n),i||(u=[G(n,"input",function(){F(e[2])&&e[2].apply(this,arguments)}),G(n,"keypress",e[4])],i=!0)},p(o,[l]){e=o,l&1&&Y(n,"id",e[0]),l&2&&n.value!==e[1]&&(n.value=e[1])},i:v,o:v,d(o){o&&I(t),i=!1,C(u)}}}function Fe(e,t,n){let{id:i}=t,{value:u}=t,{handleInputChange:o}=t,{handleAddNewInput:l}=t;const c=f=>{f.key==="Enter"&&l()};return e.$$set=f=>{"id"in f&&n(0,i=f.id),"value"in f&&n(1,u=f.value),"handleInputChange"in f&&n(2,o=f.handleInputChange),"handleAddNewInput"in f&&n(3,l=f.handleAddNewInput)},[i,u,o,l,c]}class qe extends W{constructor(t){super(),V(this,t,Fe,je,Q,{id:0,value:1,handleInputChange:2,handleAddNewInput:3})}}function Ue(e){let t,n,i,u,o,l;return{c(){t=$("button"),n=E("pick"),u=E(`
a random option`),t.disabled=i=!e[0].at(0).value},m(c,f){w(c,t,f),T(t,n),w(c,u,f),o||(l=G(t,"click",function(){F(e[1])&&e[1].apply(this,arguments)}),o=!0)},p(c,[f]){e=c,f&1&&i!==(i=!e[0].at(0).value)&&(t.disabled=i)},i:v,o:v,d(c){c&&I(t),c&&I(u),o=!1,l()}}}function ze(e,t,n){let{inputItems:i}=t,{handlePickItem:u}=t;return e.$$set=o=>{"inputItems"in o&&n(0,i=o.inputItems),"handlePickItem"in o&&n(1,u=o.handlePickItem)},[i,u]}class De extends W{constructor(t){super(),V(this,t,ze,Ue,Q,{inputItems:0,handlePickItem:1})}}function fe(e,t,n){const i=e.slice();return i[7]=t[n].id,i[8]=t[n].value,i}function ce(e,t,n){const i=e.slice();return i[7]=t[n].id,i[8]=t[n].value,i[12]=n,i}function ae(e,t){let n,i,u;function o(...l){return t[6](t[12],...l)}return i=new qe({props:{id:t[7],value:t[8],handleAddNewInput:t[4],handleInputChange:o}}),{key:e,first:null,c(){n=Ie(),ne(i.$$.fragment),this.first=n},m(l,c){w(l,n,c),H(i,l,c),u=!0},p(l,c){t=l;const f={};c&1&&(f.id=t[7]),c&1&&(f.value=t[8]),c&1&&(f.handleInputChange=o),i.$set(f)},i(l){u||(P(i.$$.fragment,l),u=!0)},o(l){B(i.$$.fragment,l),u=!1},d(l){l&&I(n),J(i,l)}}}function de(e,t){let n,i=t[8]+"",u,o;return{key:e,first:null,c(){n=$("li"),u=E(i),o=D(),this.first=n},m(l,c){w(l,n,c),T(n,u),T(n,o)},p(l,c){t=l,c&2&&i!==(i=t[8]+"")&&be(u,i)},d(l){l&&I(n)}}}function Ke(e){let t,n,i=[],u=new Map,o,l,c,f,a=[],p=new Map,d;t=new De({props:{inputItems:e[0],handlePickItem:e[5]}});let h=e[0];const g=r=>r[7];for(let r=0;r<h.length;r+=1){let s=ce(e,h,r),m=g(s);u.set(m,i[r]=ae(m,s))}l=new Te({props:{disabled:!e[2],handleAddNewInput:e[4]}});let y=e[1];const M=r=>r[7];for(let r=0;r<y.length;r+=1){let s=fe(e,y,r),m=M(s);p.set(m,a[r]=de(m,s))}return{c(){ne(t.$$.fragment),n=D();for(let r=0;r<i.length;r+=1)i[r].c();o=D(),ne(l.$$.fragment),c=D(),f=$("ol");for(let r=0;r<a.length;r+=1)a[r].c()},m(r,s){H(t,r,s),w(r,n,s);for(let m=0;m<i.length;m+=1)i[m].m(r,s);w(r,o,s),H(l,r,s),w(r,c,s),w(r,f,s);for(let m=0;m<a.length;m+=1)a[m].m(f,null);d=!0},p(r,[s]){const m={};s&1&&(m.inputItems=r[0]),t.$set(m),s&25&&(h=r[0],Ee(),i=re(i,s,g,1,r,h,u,o.parentNode,$e,ae,o,ce),Me());const L={};s&4&&(L.disabled=!r[2]),l.$set(L),s&2&&(y=r[1],a=re(a,s,M,1,r,y,p,f,Pe,de,null,fe))},i(r){if(!d){P(t.$$.fragment,r);for(let s=0;s<h.length;s+=1)P(i[s]);P(l.$$.fragment,r),d=!0}},o(r){B(t.$$.fragment,r);for(let s=0;s<i.length;s+=1)B(i[s]);B(l.$$.fragment,r),d=!1},d(r){J(t,r),r&&I(n);for(let s=0;s<i.length;s+=1)i[s].d(r);r&&I(o),J(l,r),r&&I(c),r&&I(f);for(let s=0;s<a.length;s+=1)a[s].d()}}}function Re(e,t,n){let i,u=[...Se(),x()],o=[];function l(p,d){u[d].value!==p.target.value&&n(0,u[d].value=p.target.value,u)}function c(){i&&n(0,u=[...u,x()]),z()}function f(){const p=u.filter(({value:h})=>h),d=Le(p.length);n(1,o=[...o,u[d]]),u.length>1?(n(0,u=se(u,d)),z()):n(0,u[0]=x(),u)}ve(z);const a=(p,d)=>{l(d,p)};return e.$$.update=()=>{if(e.$$.dirty&1){const p=u.some(({value:g})=>g===""),d=u.findIndex(({value:g})=>g===""),h=u.length-1;p&&d!==h&&(n(0,u=se(u,d)),z())}e.$$.dirty&1&&n(2,i=u.at(-1).value)},[u,o,i,l,c,f,a]}class Ge extends W{constructor(t){super(),V(this,t,Re,Ke,Q,{})}}new Ge({target:document.getElementById("app")});
